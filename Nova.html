<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nova Dashboard</title> <!-- Updated title for clarity -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lexend+Exa:wght@200&family=Urbanist:ital,wght@0,100;1,100&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
:root {
    /* Default Brand Colors (Purple/Magenta) */
    --brand-primary: #510076; /* Deep Purple */
    --brand-secondary: #9b0067; /* Magenta */

    /* Derived Colors (adjust as needed to fit your brand) */
    --bg-dark: #1a0026; /* Darker shade of brand primary */
    --bg: #2b003d;     /* Slightly lighter than bg-dark */
    --bg-light: #3c0054; /* Even lighter, for elements like the welcome box */
    --text: #f0e6f6;    /* Light text for contrast */
    --text-muted: #c4a7d4; /* Muted text */
    --highlight: var(--brand-primary); /* Using brand primary for highlight */
    --border: var(--brand-secondary); /* Using brand secondary for border */
    --border-muted: #6e004a; /* Muted border based on brand secondary */
    --primary: var(--brand-primary); /* Your primary brand color */
    --secondary: var(--brand-secondary); /* Your secondary brand color */

    /* Blue Color Scheme Variables */
    --blue-brand-primary: #003366; /* Dark Blue */
    --blue-brand-secondary: #007bff; /* Bright Blue */
    --blue-bg-dark: #001a33;
    --blue-bg: #002b5c;
    --blue-bg-light: #003d80;
    --blue-text: #e0f2ff;
    --blue-text-muted: #a7d9ff;
    --blue-border-muted: #0056b3;

    /* Red Color Scheme Variables */
    --red-brand-primary: #8B0000; /* Dark Red */
    --red-brand-secondary: #DC143C; /* Crimson */
    --red-bg-dark: #330000;
    --red-bg: #5C0000;
    --red-bg-light: #800000;
    --red-text: #ffe0e0;
    --red-text-muted: #ffb3b3;
    --red-border-muted: #B22222;

    /* Yellow Color Scheme Variables */
    --yellow-brand-primary: #B8860B; /* Dark Goldenrod */
    --yellow-brand-secondary: #FFD700; /* Gold */
    --yellow-bg-dark: #332600;
    --yellow-bg: #5C4700;
    --yellow-bg-light: #806000;
    --yellow-text: #fffbe0;
    --yellow-text-muted: #fff0a7;
    --yellow-border-muted: #DAA520;

    /* White Color Scheme Variables */
    --white-brand-primary: #6c757d; /* Gray for primary */
    --white-brand-secondary: #ffffff; /* White for secondary */
    --white-bg-dark: #f8f9fa; /* Lightest gray background */
    --white-bg: #e9ecef;     /* Slightly darker gray */
    --white-bg-light: #dee2e6; /* Even darker gray for elements */
    --white-text: #212529;    /* Dark text for contrast */
    --white-text-muted: #495057; /* Muted dark text */
    --white-border-muted: #adb5bd; /* Muted border based on gray */

    /* Original colors, kept for reference or if you want to re-introduce them */
    --danger: oklch(0.7 0.14 30);
    --warning: oklch(0.7 0.14 100);
    --success: oklch(0.7 0.14 160);
    --info: oklch(0.7 0.14 260);
}

/* Theme-specific overrides */
body.blue-theme {
    --brand-primary: var(--blue-brand-primary);
    --brand-secondary: var(--blue-brand-secondary);
    --bg-dark: var(--blue-bg-dark);
    --bg: var(--blue-bg);
    --bg-light: var(--blue-bg-light);
    --text: var(--blue-text);
    --text-muted: var(--blue-text-muted);
    --highlight: var(--blue-brand-primary);
    --border: var(--blue-brand-secondary);
    --border-muted: var(--blue-border-muted);
    --primary: var(--blue-brand-primary);
    --secondary: var(--blue-brand-secondary);
}

body.red-theme {
    --brand-primary: var(--red-brand-primary);
    --brand-secondary: var(--red-brand-secondary);
    --bg-dark: var(--red-bg-dark);
    --bg: var(--red-bg);
    --bg-light: var(--red-bg-light);
    --text: var(--red-text);
    --text-muted: var(--red-text-muted);
    --highlight: var(--red-brand-primary);
    --border: var(--red-brand-secondary);
    --border-muted: var(--red-border-muted);
    --primary: var(--red-brand-primary);
    --secondary: var(--red-brand-secondary);
}

body.yellow-theme {
    --brand-primary: var(--yellow-brand-primary);
    --brand-secondary: var(--yellow-brand-secondary);
    --bg-dark: var(--yellow-bg-dark);
    --bg: var(--yellow-bg);
    --bg-light: var(--yellow-bg-light);
    --text: var(--yellow-text);
    --text-muted: var(--yellow-text-muted);
    --highlight: var(--yellow-brand-primary);
    --border: var(--yellow-brand-secondary);
    --border-muted: var(--yellow-border-muted);
    --primary: var(--yellow-brand-primary);
    --secondary: var(--yellow-brand-secondary);
}

body.white-theme {
    --brand-primary: var(--white-brand-primary);
    --brand-secondary: var(--white-brand-secondary);
    --bg-dark: var(--white-bg-dark);
    --bg: var(--white-bg);
    --bg-light: var(--white-bg-light);
    --text: var(--white-text);
    --text-muted: var(--white-text-muted);
    --highlight: var(--white-brand-primary);
    --border: var(--white-brand-secondary);
    --border-muted: var(--white-border-muted);
    --primary: var(--white-brand-primary);
    --secondary: var(--white-brand-secondary);
}


body {
    margin: 0;
    overflow-x: hidden; /* Only hide horizontal scrollbars */
    background-color: var(--bg-dark); /* Dark background */
    display: flex;
    flex-direction: column; /* Arrange children vertically */
    justify-content: flex-start; /* Start content from the top */
    align-items: center;          /* Center children horizontally */
    min-height: 100vh;
    width: 100%;
    cursor: default;
    transition: background-color 0.5s ease; /* Smooth transition for background */
    padding-bottom: 80px; /* Add padding for settings button */
}

.lexend-exa {
  font-family: "Lexend Exa", sans-serif;
  font-optical-sizing: auto;
  font-weight: 200;
  font-style: normal;
}

.urbanist {
  font-family: "Urbanist", sans-serif;
  font-optical-sizing: auto;
  font-weight: 100;
  font-style: normal;
}

#particle-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none; /* Allow clicks to pass through particles */
    z-index: -1; /* Ensure particles are behind content */
    overflow: hidden; /* Prevent particles causing scrollbars */
}

.particle {
    position: absolute;
    /* background-color will be set by JS for random colors */
    border-radius: 50%;
    opacity: 0; /* Start invisible */
    animation: flash 3s infinite alternate ease-in-out, moveParticle var(--move-duration) linear infinite; /* Flash and move animation */
}

@keyframes flash {
    0% { opacity: 0; }
    50% { opacity: 0.6; } /* Slightly reduced max opacity for a softer glow */
    100% { opacity: 0; }
}

@keyframes moveParticle {
    0% { transform: translate(var(--start-x), var(--start-y)); }
    /* Particles now fall downwards, with some horizontal drift */
    100% { transform: translate(var(--end-x), var(--end-y)); }
}

header {
	color: var(--text);
	background-color: rgba(60, 0, 84, 0.7); /* Use rgba for transparency with bg-light color */
    backdrop-filter: blur(10px); /* Frosted glass effect */
    -webkit-backdrop-filter: blur(10px); /* For Safari support */
	border-radius: 15px; /* Slightly more rounded corners */
	padding: 10px 3%; /* Adjusted padding */
    position: relative;
    margin-top: 20px; /* Distance from the top of the screen */
    z-index: 10; /* Ensure it's above other content */
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4); /* More pronounced shadow for depth */
    max-width: 1200px; /* Example max-width for header */
    width: 90%; /* Take up 90% of the width, up to max-width */
    text-align: center;
    border: 1px solid rgba(155, 0, 103, 0.3); /* Subtle border */
    transition: background-color 0.5s ease, border-color 0.5s ease;
}
body.blue-theme header {
    background-color: rgba(0, 61, 128, 0.7); /* Blue equivalent of bg-light */
    border: 1px solid rgba(0, 123, 255, 0.3); /* Blue equivalent of brand-secondary */
}
body.red-theme header {
    background-color: rgba(128, 0, 0, 0.7); /* Red equivalent of bg-light */
    border: 1px solid rgba(220, 20, 60, 0.3); /* Red equivalent of brand-secondary */
}
body.yellow-theme header {
    background-color: rgba(128, 96, 0, 0.7); /* Yellow equivalent of bg-light */
    border: 1px solid rgba(255, 215, 0, 0.3); /* Yellow equivalent of brand-secondary */
}
body.white-theme header {
    background-color: rgba(222, 226, 230, 0.7); /* White equivalent of bg-light */
    border: 1px solid rgba(255, 255, 255, 0.3); /* White equivalent of brand-secondary */
}


header h1 {
    margin: 0; /* Remove default margin from h1 inside header */
	font-family: 'Lexend Exa', sans-serif; /* Changed to Lexend Exa for consistency with design */
	font-size: 2.5em; /* Adjusted size */
    letter-spacing: 2px;
    font-weight: 200; /* Lighter weight for the title */
}

/* --- CARD CONTAINER - NOW CSS GRID --- */
.app-card-container {
    display: grid; /* Changed to CSS Grid */
    /* Define responsive columns: at least 300px, as many as fit */
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px; /* Space between cards */
    padding: 40px 20px; /* Padding around the container */
    max-width: 1200px; /* Max width for the card container */
    width: 90%; /* Responsive width */
    margin-top: 40px; /* Space below the header */
    z-index: 1; /* Ensure cards are above particles */
    justify-content: center; /* Center grid items if there aren't enough to fill a row */
}

.app-card {
    background-color: rgba(60, 0, 84, 0.7); /* Use rgba for transparency with bg-light color */
    backdrop-filter: blur(8px); /* Frosted glass effect */
    -webkit-backdrop-filter: blur(8px); /* For Safari support */
    border: 1px solid rgba(155, 0, 103, 0.3); /* Subtle border */
    border-radius: 15px; /* Consistent border-radius */
    padding: 25px; /* Slightly reduced padding */
    text-align: center;
    color: var(--text);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3); /* Shadow for depth */
    transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.5s ease, border-color 0.5s ease; /* Smooth hover transition */

    /* Flexbox for internal card content to push button to bottom */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    min-height: 220px; /* Fixed minimum height for cards */
}
body.blue-theme .app-card {
    background-color: rgba(0, 61, 128, 0.7); /* Blue equivalent of bg-light */
    border: 1px solid rgba(0, 123, 255, 0.3); /* Blue equivalent of brand-secondary */
}
body.red-theme .app-card {
    background-color: rgba(128, 0, 0, 0.7); /* Red equivalent of bg-light */
    border: 1px solid rgba(220, 20, 60, 0.3); /* Red equivalent of brand-secondary */
}
body.yellow-theme .app-card {
    background-color: rgba(128, 96, 0, 0.7); /* Yellow equivalent of bg-light */
    border: 1px solid rgba(255, 215, 0, 0.3); /* Yellow equivalent of brand-secondary */
}
body.white-theme .app-card {
    background-color: rgba(222, 226, 230, 0.7); /* White equivalent of bg-light */
    border: 1px solid rgba(255, 255, 255, 0.3); /* White equivalent of brand-secondary */
}


.app-card:hover {
    transform: translateY(-5px) scale(1.02); /* Lift and slightly enlarge on hover */
    box-shadow: 0 12px 25px rgba(0, 0, 0, 0.4); /* Enhanced shadow on hover */
}

.app-card h2 {
    font-family: 'Lexend Exa', sans-serif; /* Changed to Lexend Exa */
    color: var(--text);
    font-size: 1.8em; /* Slightly smaller for card titles */
    margin-top: 0;
    margin-bottom: 10px;
    letter-spacing: 1px;
    font-weight: 200;
}
.app-card p {
    font-family: "Urbanist", sans-serif; /* Changed to Urbanist */
    color: var(--text-muted);
    font-size: 1em;
    line-height: 1.5;
    margin-bottom: 20px; /* Space above the button */
    font-weight: 100;
    flex-grow: 1; /* Allows paragraph to take up available space */
}

/* Reusing the general button style for app-button */
.app-button {
    font-family: "Lexend Exa", sans-serif;
    border-radius: 8px;
    background-color: var(--primary);
    border: none;
    display: inline-block;
    height: auto;
    transition: all 0.3s ease;
    padding: 12px 25px; /* Slightly smaller padding than main button */
    color: var(--text);
    cursor: pointer;
    font-size: 1em;
    font-weight: 400;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    width: 100%; /* Make button fill card width */
    max-width: 180px; /* Max width for button */
    margin: 0 auto; /* Center the button */
}
.app-button:hover {
    background-color: var(--secondary);
    transform: translateY(-2px) scale(1.01);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
}

/* Base style for fixed action buttons */
.action-button {
    position: fixed; /* Fixed position relative to the viewport */
    bottom: 30px; /* 30px from the bottom */
    background-color: var(--brand-primary); /* Use brand primary for the button */
    color: var(--text);
    border: none;
    border-radius: 50%; /* Make it circular */
    width: 60px; /* Fixed width */
    height: 60px; /* Fixed height */
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.8em; /* Size of the icon */
    cursor: pointer;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
    z-index: 100; /* Ensure it's above all other content */
}

.action-button:hover {
    background-color: var(--brand-secondary); /* Change color on hover */
    transform: translateY(-3px) scale(1.05); /* Lift and slightly enlarge */
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
}

/* Specific positioning for settings button */
.settings-button {
    right: 30px; /* 30px from the right */
}

/* Specific positioning for new plus button */
.plus-button {
    right: 100px; /* 30px (settings) + 60px (settings width) + 10px (gap) = 100px from right */
}


/* Responsive adjustments */
@media (max-width: 768px) {
    header h1 {
        font-size: 2em;
    }
    .app-card-container {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Smaller min width on smaller screens */
        gap: 20px;
        padding: 20px 10px;
    }
    .app-card {
        min-height: 200px; /* Adjust min height for smaller cards */
        padding: 20px;
    }
    .app-card h2 {
        font-size: 1.5em;
    }
    .app-card p {
        font-size: 0.9em;
    }
    .action-button { /* Apply to both buttons */
        bottom: 20px;
        width: 50px;
        height: 50px;
        font-size: 1.5em;
    }
    .settings-button {
        right: 20px;
    }
    .plus-button {
        right: 80px; /* 20px (settings) + 50px (settings width) + 10px (gap) = 80px */
    }
}

@media (max-width: 480px) {
    header {
        margin-top: 15px;
        padding: 10px 15px;
    }
    header h1 {
        font-size: 1.8em;
    }
    .app-card-container {
        grid-template-columns: 1fr; /* Single column layout on very small screens */
        gap: 15px;
        padding: 15px 10px;
    }
    .app-card {
        min-height: auto; /* Allow height to adjust naturally in single column */
        padding: 15px;
    }
    .app-card h2 {
        font-size: 1.3em;
    }
    .app-card p {
        font-size: 0.85em;
    }
    .action-button { /* Apply to both buttons */
        bottom: 15px;
        width: 45px;
        height: 45px;
        font-size: 1.3em;
    }
    .settings-button {
        right: 15px;
    }
    .plus-button {
        right: 70px; /* 15px (settings) + 45px (settings width) + 10px (gap) = 70px */
    }
}
</style>
</head>
<body>
    <div id="particle-container"></div>
	<header>
		<h1>Nova</h1>
	</header>
    <div class="app-card-container">
        <div class="app-card">
            <h2>Mr. Doob</h2>
			<p>A weird website with fun games and a cursed shared canvas.</p>
            <button class="app-button" onclick="openDoob()">Engage</button>
        </div>
        <div class="app-card">
            <h2>Hooda Math</h2>
            <p>A very fun website with a lot of games.</p>
            <button class="app-button" onclick="openHooda()">Engage</button>
        </div>
        <div class="app-card">
            <h2>Bouncy Balls</h2>
            <p>Too loud? Use this for a noise limiter, or something else ðŸ¤«</p>
            <button class="app-button" onclick="openBalls()">Engage</button>
        </div>
		<div class="app-card">
            <h2>Gtube</h2>
            <p>Off-brand cool math games. (Really fun)</p>
            <button class="app-button" onclick="openGtube()">Engage</button>
        </div>
		<div class="app-card">
			<h2>Math</h2>
			<p>??????????</p>
			<button class="app-button" onclick="openMath()">Engage</button>
		</div>
		<div class="app-card">
			<h2>Sakura</h2>
			<p>More off-brand cool math games</p>
			<button class="app-button" onclick="openCool()">Engage</button>
		</div>

    </div>

    <!-- Plus Button -->
    <button class="action-button plus-button" onclick="openNewLink()">
        <i class="fas fa-plus"></i> <!-- Font Awesome plus icon -->
    </button>

    <!-- Settings Button -->
    <button class="action-button settings-button" onclick="toggleColorScheme()">
        <i class="fas fa-cog"></i> <!-- Font Awesome settings icon -->
    </button>
		 <script>
    const particleContainer = document.getElementById('particle-container');
    const numberOfParticles = 500; // Increased number of particles for a richer background

    // Function to generate a random bright color
    function getRandomBrightColor() {
        const hue = Math.floor(Math.random() * 360);
        const saturation = Math.floor(Math.random() * 30) + 70; // 70-100% saturation
        const lightness = Math.floor(Math.random() * 20) + 50; // 50-70% lightness
        return `hsl(${hue}, ${saturation}%, ${lightness}%)`;
    }

    // Function to get a muted color based on the current theme's text-muted variable
    function getMutedParticleColor() {
        const textMutedColor = getComputedStyle(document.body).getPropertyValue('--text-muted').trim();
        return textMutedColor;
    }

    function createParticle() {
        const particle = document.createElement('div');
        particle.classList.add('particle');
        particleContainer.appendChild(particle);

        // Determine particle color based on theme
        if (document.body.classList.contains('white-theme')) {
            particle.style.backgroundColor = getRandomBrightColor();
            particle.style.opacity = '0.6'; // Full opacity for rainbow particles
        } else {
            particle.style.backgroundColor = getMutedParticleColor();
            particle.style.opacity = '0.2'; // Muted opacity for other themes
        }

        // Random size
        const size = Math.random() * 6 + 3; // Between 3px and 9px (slightly larger particles)
        particle.style.width = `${size}px`;
        particle.style.height = `${size}px`;

        // Start particles from the top of the screen
        const startX = Math.random() * window.innerWidth;
        const startY = -size; // Start just above the viewport

        // End particles below the screen, with some horizontal drift
        const endX = startX + (Math.random() - 0.5) * 200; // Drift left or right by up to 100px
        const endY = window.innerHeight + size; // End just below the viewport

        // Set CSS variables for animation
        particle.style.setProperty('--start-x', `${startX}px`);
        particle.style.setProperty('--start-y', `${startY}px`);
        particle.style.setProperty('--end-x', `${endX}px`);
        particle.style.setProperty('--end-y', `${endY}px`);

        // Random animation duration for movement (fall speed)
        const moveDuration = Math.random() * 10 + 8; // Between 8s and 18s (adjust for desired fall speed)
        particle.style.setProperty('--move-duration', `${moveDuration}s`);

        // Random delay for the flash animation
        particle.style.animationDelay = `${Math.random() * 4}s, ${Math.random() * moveDuration}s`; // Longer delay range
        particle.style.animationDuration = `3.5s, var(--move-duration)`; // Slightly longer flash duration

        // Remove and recreate particle after its movement animation ends
        particle.addEventListener('animationiteration', (e) => {
            if (e.animationName === 'moveParticle') {
                particle.remove();
                createParticle();
            }
        });
    }

    // Function to clear all existing particles
    function clearParticles() {
        while (particleContainer.firstChild) {
            particleContainer.removeChild(particleContainer.firstChild);
        }
    }

    // Function to re-create particles based on the current theme
    function refreshParticles() {
        clearParticles();
        for (let i = 0; i < numberOfParticles; i++) {
            createParticle();
        }
    }

    function openDoob() {
        var newWindow = window.open('about:blank', '_blank');
        if (newWindow) {
            var novaWindowUrl = atob('aHR0cHM6Ly9tcmRvb2IuY29tLw=='); // Renamed for clarity
            newWindow.document.write(`
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <title>Nova</title>
                    <style>
                        html, body {
                            margin: 0;
                            padding: 0;
                            height: 100%;
                            width: 100%;
                            overflow: hidden; /* Hide scrollbars */
                        }
                        iframe {
                            position: fixed;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            border: none;
                        }
                    </style>
                </head>
                <body>
                    <iframe src="${novaWindowUrl}"></iframe>
                </body>
                </html>
            `);
            newWindow.document.close();
        }
    }
    
    function openHooda() {
        var newWindow = window.open('about:blank', '_blank');
        if (newWindow) {
            var novaWindowUrl = atob('aHR0cHM6Ly93d3cuaG9vZGFtYXRoLmNvbS9pbmRleC5odG1sI2dzYy50YWI9MA=='); // Renamed for clarity
            newWindow.document.write(`
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <title>Nova</title>
                    <style>
                        html, body {
                            margin: 0;
                            padding: 0;
                            height: 100%;
                            width: 100%;
                            overflow: hidden; /* Hide scrollbars */
                        }
                        iframe {
                            position: fixed;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            border: none;
                        }
                    </style>
                </head>
                <body>
                    <iframe src="${novaWindowUrl}"></iframe>
                </body>
                </html>
            `);
            newWindow.document.close();
        }
    }

    function openBalls() {
        var newWindow = window.open('about:blank', '_blank');
        if (newWindow) {
            var novaWindowUrl = atob('aHR0cHM6Ly9ib3VuY3liYWxscy5vcmc='); // Renamed for clarity
            newWindow.document.write(`
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <title>Nova</title>
                    <style>
                        html, body {
                            margin: 0;
                            padding: 0;
                            height: 100%;
                            width: 100%;
                            overflow: hidden; /* Hide scrollbars */
                        }
                        iframe {
                            position: fixed;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            border: none;
                        }
                    </style>
                </head>
                <body>
                    <iframe src="${novaWindowUrl}"></iframe>
                </body>
                </html>
            `);
            newWindow.document.close();
        }
    }
    
    function openGtube() {
        var newWindow = window.open('about:blank', '_blank');
        if (newWindow) {
            var novaWindowUrl = atob('aHR0cHM6Ly90aWt0b2suZ2xvYmFsLnNzbC5mYXN0bHkubmV0'); // Renamed for clarity
            newWindow.document.write(`
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <title>Nova</title>
                    <style>
                        html, body {
                            margin: 0;
                            padding: 0;
                            height: 100%;
                            width: 100%;
                            overflow: hidden; /* Hide scrollbars */
                        }
                        iframe {
                            position: fixed;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            border: none;
                        }
                    </style>
                </head>
                <body>
                    <iframe src="${novaWindowUrl}"></iframe>
                </body>
                </html>
            `);
            newWindow.document.close();
        }
    }

    function openMath() {
        window.open("https://www.youtube.com/watch?v=dQw4w9WgXcQ", "_blank");
    }

    function openCool() {
        var newWindow = window.open('about:blank', '_blank');
        if (newWindow) {
            var novaWindowUrl = atob('aHR0cHM6Ly9zYWt1cmEuZ2xvYmFsLnNzbC5mYXN0bHkubmV0Lwo='); // Renamed for clarity
            newWindow.document.write(`
                <!DOCTYPE html>
                <html lang="en">
                <head>
                    <title>Nova</title>
                    <style>
                        html, body {
                            margin: 0;
                            padding: 0;
                            height: 100%;
                            width: 100%;
                            overflow: hidden; /* Hide scrollbars */
                        }
                        iframe {
                            position: fixed;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;
                            border: none;
                        }
                    </style>
                </head>
                <body>
                    <iframe src="${novaWindowUrl}"></iframe>
                </body>
                </html>
            `);
            newWindow.document.close();
        }
    }

    // Function for the new plus button
    function openNewLink() {
        // Replace 'https://example.com' with the actual URL you want to open
        window.open('https://docs.google.com/forms/d/e/1FAIpQLScR-G3SOXD_AFPXViTGi43YRlcmaVKYEjPbaqK5u2KaVXaz2g/viewform?usp=header', '_blank');
    }


    // Helper function to remove all theme classes
    function removeAllThemeClasses() {
        document.body.classList.remove('blue-theme', 'red-theme', 'yellow-theme', 'white-theme');
    }

    // Function to apply the saved theme on load
    function applySavedTheme() {
        const savedTheme = localStorage.getItem('theme') || 'default'; // Default to 'default' if nothing is saved
        removeAllThemeClasses(); // Clear any existing theme classes

        if (savedTheme !== 'default') {
            document.body.classList.add(savedTheme + '-theme');
        }
        refreshParticles(); // Refresh particles whenever the theme changes
    }

    // Function to toggle the color scheme
    function toggleColorScheme() {
        const currentTheme = localStorage.getItem('theme') || 'default';
        let nextTheme;

        switch (currentTheme) {
            case 'default':
                nextTheme = 'blue';
                break;
            case 'blue':
                nextTheme = 'red';
                break;
            case 'red':
                nextTheme = 'yellow';
                break;
            case 'yellow':
                nextTheme = 'white'; // Added white to the cycle
                break;
            case 'white': // Added white case to cycle back to default
                nextTheme = 'default';
                break;
            default:
                nextTheme = 'default'; // Fallback
        }

        localStorage.setItem('theme', nextTheme);
        applySavedTheme(); // Re-apply the theme based on the new localStorage value
    }

    // Apply theme when the page loads
    document.addEventListener('DOMContentLoaded', applySavedTheme);
</script>   
	</body>
</html>
